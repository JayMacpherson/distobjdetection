<HeaderStat@BoxLayout>:
    text: ''
    header: ''
    orientation: 'vertical'
    MDLabel:
        text: root.header
        bold: True
        halign: 'center'
        color: app.theme_cls.primary_color
        font_size: dp(30)
    MDLabel:
        text: root.text
        halign: 'center'
        color: 1, 1, 1, 1
        font_size: dp(20)


<Separator@Widget>:
    canvas:
        Color:
            rgba: app.theme_cls.primary_color
        Rectangle:
            size: self.size
            pos: self.pos

<HSeparator@Separator>:
    size_hint_y: None
    height: dp(.3)

<VSeparator@Separator>:
    size_hint_x: None
    width: dp(.3)


<WorkerStat@BoxLayout>:
    name: '----'
    fps: '----'
    accuracy: '----'
    lossy: 'False'
    status: ''
    orientation: 'vertical'
    BoxLayout:
        BoxLayout:
            size_hint_x: .40
            MDIconButton:
                icon: 'account'
                theme_text_color: 'Custom'
                text_color: 1, 1, 1, 1
                pos_hint_y: .5
            MDLabel:
                text: root.name
                color: 1, 1, 1, 1
        VSeparator:
        MDLabel:
            text: root.fps
            halign: 'center'
            size_hint_x: .20
            color: 1, 1, 1, 1
        VSeparator:
        MDLabel:
            text: root.accuracy
            halign: 'center'
            size_hint_x: .20
            color: 1, 1, 1, 1
        VSeparator:
        MDLabel:
            text: root.status
            halign: 'center'
            size_hint_x: .20
            color: 1, 1, 1, 1
        VSeparator:
        MDLabel:
            text: root.lossy
            size_hint_x: .20
            halign: 'center'
            color: 1, 1, 1, 1
    HSeparator:
        height: dp(.1)



<StatsLayout>:
    FitImage:
        id: bg
        source: root.background

    Widget:
        canvas:
            Color:
                rgba: 0, 0, 0, .8
            Rectangle:
                size: self.size
                pos: self.pos
    BoxLayout:
        orientation: 'vertical'
        spacing: dp(5)

        Widget:
            size_hint_y: .05

        GridLayout:
            size_hint_y: .4
            cols: 3
            HeaderStat:
                id: Fps
                header: 'Total FPs'
                text: '---'
            HeaderStat:
                id: Accuracy
                header: 'Total Accuracy'
                text: '---'
            HeaderStat:
                id: Drop
                header: 'Dropped Frames'
                text: '0'

        Widget:
            size_hint_y: .2

        HSeparator:
        BoxLayout:
            size_hint_y: .1
            MDLabel:
                size_hint_x: .40
                text: "Worker's name"
                halign: 'center'
                font_size: dp(15)
                color: app.theme_cls.primary_color
            VSeparator:
            MDLabel:
                size_hint_x: .15
                text: 'FPs'
                halign: 'center'
                font_size: dp(15)
                color: app.theme_cls.primary_color

            VSeparator:
            MDLabel:
                size_hint_x: .15
                text: 'Accuracy'
                halign: 'center'
                font_size: dp(15)
                color: app.theme_cls.primary_color
            VSeparator:
            MDLabel:
                size_hint_x: .15
                text: 'Status'
                halign: 'center'
                font_size: dp(15)
                color: app.theme_cls.primary_color

            VSeparator:
            MDLabel:
                size_hint_x: .20
                text: 'Lossy Encoded'
                halign: 'center'
                font_size: dp(15)
                color: app.theme_cls.primary_color

        HSeparator:

        RecycleView:
            id: workers
            bar_color: app.theme_cls.primary_color
            viewclass: 'WorkerStat'
            RecycleBoxLayout:
                spacing: dp(10)
                default_size: None, dp(60)
                default_size_hint: 1, None
                size_hint_y: None
                height: self.minimum_height
                orientation: 'vertical'
